(this["webpackJsonpreact-jointjs"]=this["webpackJsonpreact-jointjs"]||[]).push([[0],{20:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(15),s=a.n(o),i=(a(20),a(7)),c=a(3),l=a(4),p=a(6),h=a(5),u=a(10),d=a(9),b=a(13),j=a(1),m=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onChangeType=function(t){e.setState({type:t.target.value})},e.onChangeName=function(t){e.setState({name:t.target.value})},e.addNewPort=function(t){t.preventDefault();var a=e.state,n=a.name,r=a.type,o=e.props.addPort;""!==n?(o(n,r),e.setState(Object(b.a)(Object(b.a)({},e.state),{},{name:""}))):e.setState({error:"Please type port name"},(function(){setTimeout((function(){e.setState({error:""})}),1500)}))},e.portTypes=["inPorts","outPorts"],e.state={name:"",type:"inPorts"},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.type,r=t.error;return Object(j.jsxs)("form",{className:"add-port",children:[Object(j.jsx)("div",{className:"add-port__control",children:this.portTypes.map((function(t){return Object(j.jsxs)("label",{htmlFor:t,children:[Object(j.jsx)("input",{type:"radio",id:t,name:"type",onChange:e.onChangeType,checked:n===t,value:t}),t]},t)}))}),Object(j.jsxs)("div",{className:"add-port__control",children:[Object(j.jsx)("input",{type:"text",value:a,onChange:this.onChangeName,placeholder:"Port name"}),r&&Object(j.jsx)("p",{className:"error",children:r})]}),Object(j.jsx)("button",{className:"add-port__button btn",type:"submit",onClick:this.addNewPort,children:"Add New Port"})]})}}]),a}(r.a.Component),f=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).addPort=function(t,a){var n=e.state,r=n.inPorts,o=n.outPorts,s="inPorts"===a?Object(i.a)(r):Object(i.a)(o);s.includes(t)?e.setState({error:"Port already exist"},(function(){setTimeout((function(){e.setState({error:""})}),1500)})):s.push(t),e.setState(Object(d.a)({},a,s))},e.state={error:"",inPorts:[],outPorts:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.graph,a=e.shape,n=e.label;a.attr(".label/text",n),a.addTo(t)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.shape,n=this.state,r=n.inPorts,o=n.outPorts,s=t.inPorts,i=t.outPorts;r.length>s.length&&a.set("inPorts",r),o.length>i.length&&a.set("outPorts",o)}},{key:"render",value:function(){var e=this.state.error,t=this.props,a=t.cloneShape,n=t.shape,r=t.label;return Object(j.jsxs)("div",{className:"shape-control",children:[Object(j.jsx)("div",{className:"shape-control__name",children:r}),Object(j.jsx)(m,{addPort:this.addPort}),e&&Object(j.jsx)("p",{className:"error",children:e}),Object(j.jsx)("div",{className:"clone-shape",children:Object(j.jsx)("button",{className:"clone-shape__button btn",type:"button",onClick:a(n),children:"Clone Shape"})})]})}}]),a}(r.a.Component),O=a(8),v=a.n(O),g=(a(25),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).cloneShape=function(t){return function(){var a=e.state.shapes,n=t.clone().translate(300,0);e.setState({shapes:[].concat(Object(i.a)(a),[{obj:n,label:"Model ".concat(a.length+1)}])})}},e.graph=new u.dia.Graph,e.reference=null,e.initialShapeOptions={posts:{groups:{in:{attrs:{".port-body":{fill:v.a.inPort}}},out:{attrs:{".port-body":{fill:v.a.outPort}}}}},attrs:{".label":{"ref-x":.5,"ref-y":.2,fill:v.a.mainWhite},rect:{fill:v.a.mainAction}},position:{x:50,y:50},size:{width:90,height:90}},e.shape=new u.shapes.devs.Model(e.initialShapeOptions),e.state={shapes:[{label:"Model",obj:e.shape}]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.paper=new u.dia.Paper({el:this.reference,height:this.reference.outerHeight,width:this.reference.outerWidth,gridSize:1,model:this.graph})}},{key:"render",value:function(){var e=this,t=this.state.shapes;return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)("div",{className:"app__side-panel",children:t.map((function(t){return Object(j.jsx)(f,{label:t.label,shape:t.obj,graph:e.graph,cloneShape:e.cloneShape},t.label)}))}),Object(j.jsx)("div",{className:"app__main-panel",ref:function(t){e.reference=t}})]})}}]),a}(r.a.Component));s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={main:"#677294",mainBg:"#e2e2e2",mainWhite:"#fff",mainBlack:"#000",mainBorder:"#444",mainAction:"#5F3794",hoverAction:"#9E5BF6","in-port":"#10f","out-port":"#00945b",bgGrid:"rgba(17,0,255,0.1)",error:"red"}}},[[27,1,2]]]);
//# sourceMappingURL=main.012e3df3.chunk.js.map